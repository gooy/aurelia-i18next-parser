{"version":3,"sources":["helpers.js"],"names":[],"mappings":";;;;;QAkBgB,cAAc,GAAd,cAAc;QAkCd,SAAS,GAAT,SAAS;QAkDT,YAAY,GAAZ,YAAY;QAwBZ,aAAa,GAAb,aAAa;;AA5GtB,SAAS,cAAc,CAAC,IAAI,EAAE,KAAK,EAAE,SAAS,EAAE,IAAI,EAAC;AAC1D,WAAS,GAAG,SAAS,IAAI,GAAG,CAAC;;AAE7B,MAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,IAAI,CAAC,EAAC;AAC9D,QAAI,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;GACzC;;AAED,MAAI,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;AAClC,MAAI,OAAO,GAAG,IAAI,IAAI,EAAE,CAAC;AACzB,MAAI,GAAG,GAAG,OAAO,CAAC;;AAElB,OAAI,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC;AACnC,QAAG,CAAC,KAAK,KAAK,CAAC,MAAM,GAAG,CAAC,EAAC;AACxB,aAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,CAAC;KAC3B,MACI,IAAG,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAC;AACzB,aAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;KACxB;AACD,WAAO,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;GAC7B;AACD,SAAO,GAAG,CAAC;CACZ;;AAaM,SAAS,SAAS,CAAC,MAAM,EAAE,MAAM,EAAE,GAAG,EAAC;AAC5C,QAAM,GAAG,MAAM,IAAI,EAAE,CAAC;AACtB,KAAG,GAAG,GAAG,IAAI,EAAE,CAAC;;AAEhB,QAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAS,GAAG,EAAC;AACvC,QAAG,MAAM,CAAC,GAAG,CAAC,KAAK,SAAS,EAAC;AAC3B,UAAG,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,QAAQ,IAAI,MAAM,CAAC,GAAG,CAAC,CAAC,WAAW,KAAK,KAAK,EAAC;AACtE,YAAI,MAAM,GAAG,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,EAAE,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC;AAC3D,cAAM,CAAC,GAAG,CAAC,GAAG,MAAM,OAAI,CAAC;AACzB,WAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC;OACvB,MACG;AACF,cAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;OAC3B;KACF,MACG;AAEF,UAAI,WAAW,GAAG,iBAAiB,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;AAC9C,UAAI,WAAW,GAAG,GAAG,CAAC,OAAO,CAAC,iBAAiB,EAAE,EAAE,CAAC,CAAC;;AAGrD,UAAI,YAAY,GAAG,YAAY,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;AAClD,UAAI,MAAM,GAAG,WAAW,CAAC,OAAO,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;;AAEnD,UACE,AAAE,YAAY,IAAI,MAAM,CAAC,MAAM,CAAC,KAAK,SAAS,IAC5C,WAAW,IAAI,MAAM,CAAC,WAAW,CAAC,KAAK,SAAS,AAAE,EACrD;AACC,cAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;OAC3B,MACG;AACF,WAAG,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;OACxB;KACF;GACF,CAAC,CAAC;;AAEH,SAAO;AACL,SAAK,EAAE,MAAM;AACb,SAAO,GAAG;GACX,CAAC;CACH;;AAUM,SAAS,YAAY,CAAC,MAAM,EAAE,MAAM,EAAC,SAAS,EAAC;AACpD,QAAM,GAAG,MAAM,IAAI,EAAE,CAAC;;AAEtB,QAAM,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,OAAO,CAAC,UAAS,GAAG,EAAC;AACvC,QAAG,MAAM,CAAC,GAAG,CAAC,KAAK,SAAS,EAAC;AAC3B,UAAG,OAAO,MAAM,CAAC,GAAG,CAAC,KAAK,QAAQ,EAAC;AACjC,cAAM,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE,MAAM,CAAC,GAAG,CAAC,EAAC,SAAS,CAAC,CAAC;OAChE,MAAK,IAAG,MAAM,CAAC,GAAG,CAAC,KAAK,EAAE,EAAC;AAC1B,YAAI,KAAK,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC;AACxB,YAAG,SAAS,KAAG,WAAW,EAAE,KAAK,GAAG,aAAa,CAAC,KAAK,CAAC,CAAC;AACzD,cAAM,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC;OACrB;KACF;GACF,CAAC,CAAC;;AAEH,SAAO,MAAM,CAAC;CACf;;AAQM,SAAS,aAAa,CAAC,GAAG,EAAC;AAChC,MAAI,EAAE,GAAG,8BAA8B,CAAC;AACxC,MAAI,CAAC,CAAC;;AAEN,SAAO,CAAC,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC,GAAG,CAAC,CAAA,KAAM,IAAI,EAAE;AAClC,QAAI,CAAC,CAAC,KAAK,KAAK,EAAE,CAAC,SAAS,EAAE;AAC5B,QAAE,CAAC,SAAS,EAAE,CAAC;KAChB;;AAGD,QAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;AACpD,QAAG,CAAC,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,EAAC,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,CAAC;GACrD;AACD,SAAO,GAAG,CAAC;CACZ","file":"helpers.js","sourcesContent":["/**\n * Create a hash from a translation key.\n *\n * converts \"foo.bar.baz\" to:\n *\n * foo:{\n *   bar: {\n *     baz: {\n *     }\n *   }\n * }\n *\n * @param path\n * @param value\n * @param separator\n * @param hash\n * @returns {*|{}}\n */\nexport function hashFromString(path, value, separator, hash){\n  separator = separator || '.';\n\n  if(path.indexOf(separator, path.length - separator.length) >= 0){\n    path = path.slice(0, -separator.length);\n  }\n\n  var parts = path.split(separator);\n  var tmp_obj = hash || {};\n  var obj = tmp_obj;\n\n  for(var x = 0; x < parts.length; x++){\n    if(x === parts.length - 1){\n      tmp_obj[parts[x]] = value;\n    }\n    else if(!tmp_obj[parts[x]]){\n      tmp_obj[parts[x]] = {};\n    }\n    tmp_obj = tmp_obj[parts[x]];\n  }\n  return obj;\n}\n\n/**\n * Takes a `source` hash and make sure its value\n * are pasted in the `target` hash, if the target\n * hash has the corresponding key. If not, the\n * value is added to an `old` hash.\n *\n * @param source\n * @param target\n * @param old\n * @returns {{new: (*|{}), old: (*|{})}}\n */\nexport function mergeHash(source, target, old){\n  target = target || {};\n  old = old || {};\n\n  Object.keys(source).forEach(function(key){\n    if(target[key] !== undefined){\n      if(typeof source[key] === 'object' && source[key].constructor !== Array){\n        var nested = mergeHash(source[key], target[key], old[key]);\n        target[key] = nested.new;\n        old[key] = nested.old;\n      }\n      else{\n        target[key] = source[key];\n      }\n    }\n    else{\n      // support for plural in keys\n      var pluralMatch = /_plural(_\\d+)?$/.test(key);\n      var singularKey = key.replace(/_plural(_\\d+)?$/, '');\n\n      // support for context in keys\n      var contextMatch = /_([^_]+)?$/.test(singularKey);\n      var rawKey = singularKey.replace(/_([^_]+)?$/, '');\n\n      if(\n        ( contextMatch && target[rawKey] !== undefined ) ||\n        ( pluralMatch && target[singularKey] !== undefined )\n      ){\n        target[key] = source[key];\n      }\n      else{\n        old[key] = source[key];\n      }\n    }\n  });\n\n  return {\n    'new': target,\n    'old': old\n  };\n}\n\n/**\n * Takes a `target` hash and replace its empty\n * values with the `source` hash ones if they exist\n * @param source\n * @param target\n * @param transform\n * @returns {*|{}}\n */\nexport function replaceEmpty(source, target,transform){\n  target = target || {};\n\n  Object.keys(source).forEach(function(key){\n    if(target[key] !== undefined){\n      if(typeof source[key] === 'object'){\n        target[key] = replaceEmpty(source[key], target[key],transform);\n      }else if(target[key] === ''){\n        var value = source[key];\n        if(transform===\"uppercase\") value = transformText(value);\n        target[key] = value;\n      }\n    }\n  });\n\n  return target;\n}\n\n/**\n * Transforms html text to uppercase without transforming tags or attributes\n *\n * @param str\n * @returns {*}\n */\nexport function transformText(str){\n  var re = /(.*?(?=<)).*?(?=>)>|(.*)?/gim;\n  var m;\n\n  while ((m = re.exec(str)) !== null) {\n    if (m.index === re.lastIndex) {\n      re.lastIndex++;\n    }\n    // View your result using the m-variable.\n    // eg m[0] etc.\n    if(m[1]) str = str.replace(m[1],m[1].toUpperCase());\n    if(m[2]) str = str.replace(m[2],m[2].toUpperCase());\n  }\n  return str;\n}\n"],"sourceRoot":"/source/"}